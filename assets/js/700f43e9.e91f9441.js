(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{84:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return l})),n.d(t,"default",(function(){return c}));var a=n(3),o=(n(0),n(102));const r={title:"Week 3 - Benchmarking on BBAI-64"},i={unversionedId:"create-a-blog-post",id:"create-a-blog-post",isDocsHomePage:!1,title:"Week 3 - Benchmarking on BBAI-64",description:"Objective",source:"@site/docs/create-a-blog-post.md",slug:"/create-a-blog-post",permalink:"/opengles-acceleration-for-dl/docs/create-a-blog-post",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/create-a-blog-post.md",version:"current",sidebar:"docs",previous:{title:"Week 2 - Porting to BBAI-64",permalink:"/opengles-acceleration-for-dl/docs/create-a-document"},next:{title:"Week 4",permalink:"/opengles-acceleration-for-dl/docs/markdown-features"}},l=[{value:"Objective",id:"objective",children:[]},{value:"Blockers",id:"blockers",children:[]},{value:"Sharing the darknet folder onto the BBAI-64",id:"sharing-the-darknet-folder-onto-the-bbai-64",children:[]},{value:"Benchmarking on BBAI-64.",id:"benchmarking-on-bbai-64",children:[{value:"Features:",id:"features",children:[]},{value:"Results:",id:"results",children:[]},{value:"Breakdown of the result:",id:"breakdown-of-the-result",children:[]}]},{value:"Goals for Week 4",id:"goals-for-week-4",children:[]}],s={toc:l};function c({components:e,...t}){return Object(o.b)("wrapper",Object(a.a)({},s,t,{components:e,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"objective"},"Objective"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Sharing the cross-compiled darknet folder to the BBAI-64."),Object(o.b)("li",{parentName:"ul"},"Implementation and benchmarking on the BBAI-64.")),Object(o.b)("h2",{id:"blockers"},"Blockers"),Object(o.b)("p",null,"The 32GB SD Card has now been flashed with a non-flasher image. After inserting the SD Card on the board, 'df -h' reported that 80% of the SD Card was being used. When I looked it up online, a ",Object(o.b)("a",{parentName:"p",href:"https://forum.beagleboard.org/t/where-is-grow-partition-sh-in-bbai-64-any-alternative/32558/2"},"partitioning problem")," was evident. The mentors suggested restarting the board after speaking with them. I also done it, but the outcome remained the same. So I flashed an image onto a new 32GB SD Card. The SD Card was then 30% used, it then showed. I then continued with the project. "),Object(o.b)("h2",{id:"sharing-the-darknet-folder-onto-the-bbai-64"},"Sharing the darknet folder onto the BBAI-64"),Object(o.b)("p",null,"I used SCP command to tranfer the darknet folder from host to the beagle. "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-md",metastring:'title="SCP Command"',title:'"SCP','Command"':!0},"scp -r ./darknet debian@beaglebone.local:/home/debian/dir\n")),Object(o.b)("p",null,"dir - contains the darknet folder. "),Object(o.b)("h2",{id:"benchmarking-on-bbai-64"},"Benchmarking on BBAI-64."),Object(o.b)("h3",{id:"features"},"Features:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"YOLOv3 version."),Object(o.b)("li",{parentName:"ul"},"Pre-trained weight: The pre-trained model was ",Object(o.b)("a",{parentName:"li",href:"https://pjreddie.com/media/files/yolov3.weights"},"this")),Object(o.b)("li",{parentName:"ul"},"Input image file: data/dog.jpg")),Object(o.b)("h3",{id:"results"},"Results:"),Object(o.b)("p",null,"After running the detector, the following results were obtained:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-md",metastring:'title="Results"',title:'"Results"'},"\nmini_batch = 1, batch = 1, time_steps = 1, train = 0  \n   layer   filters  size/strd(dil)      input                output\n   0 conv     32       3 x 3/ 1    416 x 416 x   3 ->  416 x 416 x  32 0.299 BF\n   1 conv     64       3 x 3/ 2    416 x 416 x  32 ->  208 x 208 x  64 1.595 BF\n   2 conv     32       1 x 1/ 1    208 x 208 x  64 ->  208 x 208 x  32 0.177 BF\n   3 conv     64       3 x 3/ 1    208 x 208 x  32 ->  208 x 208 x  64 1.595 BF\n   4 Shortcut Layer: 1,  wt = 0, wn = 0, outputs: 208 x 208 x  64 0.003 BF\n   .\n   .\n   .\n   .\n   .\n   .\n[yolo] params: iou loss: mse (2), iou_norm: 0.75, obj_norm: 1.00, cls_norm: 1.00, delta_norm: 1.00, scale_x_y: 1.00\nTotal BFLOPS 65.879 \navg_outputs = 532444 \nLoading weights from yolov3.weights...\n seen 64, trained: 32013 K-images (500 Kilo-batches_64) \nDone! Loaded 107 layers from weights-file \n Detection layer: 82 - type = 28 \n Detection layer: 94 - type = 28 \n Detection layer: 106 - type = 28 \ndata/dog.jpg: Predicted in 27715.475000 milli-seconds.\nbicycle: 99%\ndog: 100%\ntruck: 93%\n")),Object(o.b)("h3",{id:"breakdown-of-the-result"},"Breakdown of the result:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Training data: The model was trained on 32,013,000 images in total, divided into 500 kilo-batches, with each batch containing 64 images.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Input size: The input size of the architecture is 416 x 416 pixels with 3 channels (RGB).")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Convolution and pooling layers: The architecture starts with a 3x3 convolution layer, followed by 2x2 max pooling layers. These pooling layers perform downsampling with a stride of 2, reducing the spatial dimensions of the feature maps.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Filters: The model employs 1x1 filters to reduce the number of filters. This indicates the use of 1x1 convolutions to reduce the dimensionality of the feature maps.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Loaded layers: A total of 107 layers were loaded for the model.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Prediction time: The total prediction time for the loaded model was approximately 5611.288 milliseconds."))),Object(o.b)("h2",{id:"goals-for-week-4"},"Goals for Week 4"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Create a script that can be reproduced to benchmark the host and compare the outcomes."),Object(o.b)("li",{parentName:"ul"},"Start with matrix multiplication in OpenGLES."),Object(o.b)("li",{parentName:"ul"},"Inspect the TIDL code and look for necessary APIs.")))}c.isMDXComponent=!0}}]);